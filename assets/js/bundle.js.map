{"version":3,"sources":["node_modules/browser-pack/_prelude.js","build/js/components/carousel.js","build/js/components/layout.js","build/js/components/main.js","build/js/components/post.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","Post","container","document","querySelector","arrowLeft","arrowRight","Carousel","HTMLdata","this","prototype","Object","create","constructor","changeSlide","direction","slides","querySelectorAll","maxLen","img","tabIndex","loc","Number","forEach","elem","className","display","that","activeImg","build","slideTemplate","createElement","innerHTML","mediaItems","carouselMedia","postMedia","activePost","mediaCount","gallery","firstChild","removeChild","Array","item","slide","appendChild","setAttribute","push","outerHTML","newGallery","join","addEventListener","cloak","x","imgIndex","getAttribute","Layout","title","metaDesc","bodyData","postHeadline","postSubHed","activePostHeader","layout","carousel","splash","contactBtn","contactSection","contactClose","backArrow","box","arrow","contactInput","contactModule","contactEntries","navMenu","getElementById","projDropdown","galleryBtn","pageState","window","scrollTo","isPost","body","isHome","isCarousel","isContact","events","getURL","location","pathname","history","replaceState","showDropdown","hideDropdown","removeEventListener","showContact","preventDefault","input","closeContact","goBack","event","fetchPost","slug","httpRequest","XMLHttpRequest","classList","add","onreadystatechange","readyState","DONE","setTimeout","remove","status","data","JSON","parse","responseText","console","log","posts","html","meta_description","pushState","open","ghost","url","api","send","onload","slice","firstGalleryImg"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","var Post = require('./post.js');\n\nvar container = document.querySelector('.base-gallery');\nvar arrowLeft = document.querySelector('.arrow-left');\nvar arrowRight = document.querySelector('.arrow-right');\n\nvar Carousel = function(HTMLdata) {\n    Post.call(this, HTMLdata);\n};\n\nCarousel.prototype = Object.create(Post.prototype);\nCarousel.prototype.constructor = Carousel;\n\nvar changeSlide = function(direction) {\n    var slides = container.querySelectorAll('.gallery-item'),\n        maxLen = (slides.length) - 1;\n\n    var img = container.querySelector('.is-active').tabIndex;\n    var loc = Number(img);\n\n    switch (direction) {\n        case 'left':\n            loc < 1 ? loc = maxLen : loc--;\n            break;\n\n        case 'right':\n            loc === maxLen ? loc = 0 : loc++;\n            break;\n\n        default:\n            return;\n    }\n    slides.forEach(function(elem) {\n        elem.tabIndex !== loc ? elem.className = 'gallery-item' : elem.className = 'gallery-item is-active';\n    });\n};\n\nCarousel.prototype.display = function(elem) {\n    var that = this,\n        activeImg = document.querySelector(elem),\n        slides = document.querySelectorAll('.gallery-item');\n\n    if (container.className !== 'base-gallery is-visible') {\n        activeImg.className += ' is-active';\n        slides.forEach(function(elem) {\n            if (elem !== activeImg) {\n                elem.className = 'gallery-item';\n            } else {\n                elem.className = \"gallery-item is-active\";\n            }\n        })\n        container.className = 'base-gallery is-visible';\n    }\n};\n\nCarousel.prototype.build = function() {\n    var that = this;\n    var slideTemplate = document.createElement('div');\n    slideTemplate.innerHTML = this.HTMLdata;\n\n    var mediaItems = 'div > figure, div > img, div > .custom-selector, div > video, div > iframe',\n        carouselMedia = slideTemplate.querySelectorAll(mediaItems),\n        postMedia = activePost.querySelectorAll(mediaItems),\n        mediaCount = carouselMedia.length,\n        gallery = [];\n\n    while (this.container.firstChild) {\n        this.container.removeChild(this.container.firstChild);\n    }\n\n    Array.prototype.forEach.call(carouselMedia, function(item, i) {\n        var slide = document.createElement('div');\n        slide.className = 'gallery-item';\n        slide.appendChild(item);\n        slide.setAttribute('tabindex', '' + i++ + '');\n        gallery.push(slide.outerHTML);\n\n        while (i === mediaCount) {\n            var newGallery = gallery.join('');\n            container.innerHTML = newGallery;\n            container.addEventListener('click', that.cloak);\n            arrowLeft.addEventListener('click', function() {\n                changeSlide('left')\n            });\n            arrowRight.addEventListener('click', function() {\n                changeSlide('right')\n            });\n            postMedia.forEach(function(elem, x) {\n                elem.setAttribute('tabindex', '' + x++ + '');\n                elem.addEventListener('click', function() {\n                    var imgIndex = elem.getAttribute('tabindex');\n                    that.display('.gallery-item[tabindex=\"' + imgIndex + '\"]');\n                })\n            });\n            i++;\n        }\n    })\n};\n\nCarousel.prototype.cloak = function() {\n    container.className = 'base-gallery';\n};\nmodule.exports = Carousel;","var Post = require('./post.js');\n\nvar Layout = function(HTMLdata, title, metaDesc) {\n    Post.call(this, HTMLdata, title, metaDesc);\n};\n\nLayout.prototype = Object.create(Post.prototype);\nLayout.prototype.constructor = Layout;\n\nLayout.prototype.display = function() {\n    var bodyData = document.createElement('div'),\n        postHeadline = document.createElement('h1'),\n        postSubHed = document.createElement('h5');\n\n    bodyData.innerHTML = this.HTMLdata;\n    postHeadline.innerHTML = this.title;\n    postSubHed.innerHTML = this.metaDesc;\n\n    while (activePost.firstChild) {\n        this.activePost.removeChild(activePost.firstChild);\n    }\n    while (activePostHeader.firstChild) {\n        this.activePostHeader.removeChild(activePostHeader.firstChild);\n    }\n    this.activePost.appendChild(bodyData);\n    this.activePostHeader.appendChild(postHeadline);\n    this.activePostHeader.appendChild(postSubHed);\n};\n\nmodule.exports = Layout;","var Layout = require('./layout.js');\nvar Carousel = require('./carousel.js');\nvar layout = Layout();\nvar carousel = Carousel();\n\nvar splash = document.querySelector(\".splash-screen\"),\n    contactBtn = document.querySelector(\".nav-contact\"),\n    contactSection = document.querySelector(\".contact-section\"),\n    contactClose = document.querySelector(\".x-icon\"),\n    backArrow = document.querySelector(\".home-link\"),\n    box = document.querySelectorAll(\".box-link\"),\n    arrow = document.querySelectorAll(\".arrow\"),\n    contactInput = document.querySelector(\"input#name\"),\n    contactModule = document.querySelector(\".contact\"),\n    contactEntries = document.querySelectorAll(\".contact-section input\"),\n    navMenu = document.getElementById(\"topMenu\"),\n    projDropdown = document.getElementById(\"projects-dropdown\"),\n    galleryBtn = document.querySelectorAll(\".thumbnail-buttons .gallery-button\");\n\nvar pageState = (function() {\n    window.scrollTo(0, 0);\n    return {\n        isPost: function() {\n            return document.body.className = 'post-template';\n        },\n        isHome: function() {\n            return document.body.className = 'home-template';\n        },\n        isCarousel: function() {\n            return document.body.className = 'post-template carousel-template';\n        },\n        isContact: function() {\n            return document.body.className += 'contact-template';\n        }\n    }\n})();\n\nvar events = {\n\n    getURL: function() {\n        if (window.location.pathname.length > 1) {\n            pageState.isPost();\n            splash.className = \"splash-screen\";\n        } else {\n            pageState.isHome();\n            history.replaceState(null, null, '/');\n            splash.className = \"splash-screen\";\n        }\n    },\n\n    showDropdown: function() {\n        projDropdown.className = 'projects-dropdown is-active';\n        document.body.addEventListener('click', events.hideDropdown);\n    },\n\n    hideDropdown: function() {\n        projDropdown.className = 'projects-dropdown';\n        document.body.removeEventListener('click', events.hideDropdown);\n    },\n\n    showContact: function(e) {\n        e.preventDefault();\n        pageState.isContact();\n        var input = document.querySelectorAll('input');\n        var contactSection = document.querySelector('.contact-section');\n\n        // function moveLabel() {\n        //     var label = $(this).next('label');\n        //     var activeInput = $(this).prev('label');\n        //     label.addClass('hasEntry');\n        // }\n        // input.addEventListener('focusin', moveLabel);\n    },\n\n    closeContact: function() {\n        pageState.isHome();\n    },\n\n    goBack: function(event) {\n        event.preventDefault();\n        history.replaceState(null, null, '/');\n        pageState.isHome();\n    },\n\n    fetchPost: function(slug) {\n            var httpRequest = new XMLHttpRequest();\n            splash.classList.add(\"is-visible\");\n\n            httpRequest.onreadystatechange = function() {\n                if (httpRequest.readyState == XMLHttpRequest.DONE) {\n                    setTimeout(function() {\n                        splash.classList.remove(\"is-visible\");\n                    }, 80);\n                    if (httpRequest.status == 200) {\n                        var data = JSON.parse(httpRequest.responseText);\n                        console.log(data.posts[0]);\n                        pageState.isPost();\n                        layout = new Layout(data.posts[0].html, data.posts[0].title, data.posts[0].meta_description);\n                        carousel = new Carousel(data.posts[0].html);\n                        history.pushState(null, null, '/' + slug + '/');\n                        layout.display();\n                        carousel.build();\n                    } else if (httpRequest.status == 400) {\n                        pageState.isHome();\n                    } else {\n                        console.log('something else other than 200 was returned');\n                    }\n                }\n            };\n\n            httpRequest.open(\"GET\", ghost.url.api('posts/slug/' + slug));\n            httpRequest.send();\n        }\n        // EVENT LISTENERS\n};\nwindow.onload = events.getURL;\n// window.onpopstate = events.getURL;\n\nbox.forEach(function(elem, i, x) {\n    elem.setAttribute('data-project', i);\n    elem.addEventListener('click', function(event) {\n        var slug = elem.pathname.slice(1, -1);\n        event.preventDefault();\n        events.fetchPost(slug);\n    })\n});\n\nnavMenu.addEventListener('mouseover', events.showDropdown);\n\ncontactBtn.addEventListener('click', events.showContact);\n\ncontactClose.addEventListener('click', events.closeContact);\n\nbackArrow.addEventListener('click', events.goBack);\n\ngalleryBtn.forEach(function(elem, i, x) {\n    elem.addEventListener('click', function(event) {\n        var firstGalleryImg = document.querySelector('.gallery-item');\n        firstGalleryImg.className = \"gallery-item is-active\";\n    })\n});","var Post = function(HTMLdata, title, metaDesc, slug) {\n    this.HTMLdata = HTMLdata\n    this.title = title;\n    this.metaDesc = metaDesc;\n    this.slug = slug;\n    this.activePost = document.querySelector('.active-post-body');\n    this.activePostHeader = document.querySelector('.active-post-header');\n    this.arrow = document.querySelectorAll('.arrow');\n    this.container = document.getElementById('base-gallery');\n};\n\nmodule.exports = Post;"]}