"use strict";var Post=require("./post.js"),container=document.querySelector(".base-gallery"),arrowLeft=document.querySelector(".arrow-left"),arrowRight=document.querySelector(".arrow-right"),Carousel=function e(t){Post.call(this,t)};Carousel.prototype=Object.create(Post.prototype),Carousel.prototype.constructor=Carousel;var changeSlide=function e(t){var r=container.querySelectorAll(".gallery-item"),a=r.length-1,i=container.querySelector(".is-active").tabIndex,o=Number(i);switch(t){case"left":o<1?o=a:o--;break;case"right":o===a?o=0:o++;break;default:return}r.forEach(function(e){e.tabIndex!==o?e.className="gallery-item":e.className="gallery-item is-active"})};Carousel.prototype.display=function(e){var t=this,r=document.querySelector(e),a=document.querySelectorAll(".gallery-item");"base-gallery is-visible"!==container.className&&(r.className+=" is-active",a.forEach(function(e){e.className=e!==r?"gallery-item":"gallery-item is-active"}),container.className="base-gallery is-visible")},Carousel.prototype.build=function(){var e=this,t=document.createElement("div");t.innerHTML=this.HTMLdata;for(var r="div > figure, div > img, div > .custom-selector, div > video, div > iframe",a=t.querySelectorAll(r),i=activePost.querySelectorAll(r),o=a.length,l=[];this.container.firstChild;)this.container.removeChild(this.container.firstChild);Array.prototype.forEach.call(a,function(t,r){var a=document.createElement("div");for(a.className="gallery-item",a.appendChild(t),a.setAttribute("tabindex",""+r++),l.push(a.outerHTML);r===o;){var c=l.join("");container.innerHTML=c,container.addEventListener("click",e.cloak),arrowLeft.addEventListener("click",function(){changeSlide("left")}),arrowRight.addEventListener("click",function(){changeSlide("right")}),i.forEach(function(t,r){t.setAttribute("tabindex",""+r++),t.addEventListener("click",function(){var r=t.getAttribute("tabindex");e.display('.gallery-item[tabindex="'+r+'"]')})}),r++}})},Carousel.prototype.cloak=function(){container.className="base-gallery"},module.exports=Carousel;