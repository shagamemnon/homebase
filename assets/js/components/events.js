"use strict";var Layout=require("./layout.js"),Carousel=require("./carousel.js"),layout=Layout(),carousel=Carousel(),splash=document.querySelector(".splash-screen"),contactBtn=document.querySelector(".nav-contact"),contactSection=document.querySelector(".contact-section"),contactClose=document.querySelector(".x-icon"),backArrow=document.querySelector(".home-link"),box=document.querySelectorAll(".box-link"),arrow=document.querySelectorAll(".arrow"),contactInput=document.querySelector("input#name"),contactModule=document.querySelector(".contact"),contactEntries=document.querySelectorAll(".contact-section input"),navMenu=document.getElementById("topMenu"),projDropdown=document.getElementById("projects-dropdown"),galleryBtn=document.querySelectorAll(".thumbnail-buttons .gallery-button"),pageState=function(){return window.scrollTo(0,0),{isPost:function e(){return document.body.className="post-template"},isHome:function e(){return document.body.className="home-template"},isCarousel:function e(){return document.body.className="post-template carousel-template"},isContact:function e(){return document.body.className+="contact-template"}}}(),events={getURL:function e(){window.location.pathname.length>1?(pageState.isPost(),splash.className="splash-screen"):(pageState.isHome(),history.replaceState(null,null,"/"),splash.className="splash-screen")},showDropdown:function e(){projDropdown.className="projects-dropdown is-active",document.body.addEventListener("click",events.hideDropdown)},hideDropdown:function e(){projDropdown.className="projects-dropdown",document.body.removeEventListener("click",events.hideDropdown)},showContact:function e(t){t.preventDefault(),pageState.isContact();var o=document.querySelectorAll("input"),n=document.querySelector(".contact-section")},closeContact:function e(){pageState.isHome()},goBack:function e(t){t.preventDefault(),history.replaceState(null,null,"/"),pageState.isHome()},fetchPost:function e(t){var o=new XMLHttpRequest;splash.classList.add("is-visible"),o.onreadystatechange=function(){if(o.readyState==XMLHttpRequest.DONE)if(setTimeout(function(){splash.classList.remove("is-visible")},80),200==o.status){var e=JSON.parse(o.responseText);console.log(e.posts[0]),pageState.isPost(),layout=new Layout(e.posts[0].html,e.posts[0].title,e.posts[0].meta_description),carousel=new Carousel(e.posts[0].html),history.pushState(null,null,"/"+t+"/"),layout.display(),carousel.build()}else 400==o.status?pageState.isHome():console.log("something else other than 200 was returned")},o.open("GET",ghost.url.api("posts/slug/"+t)),o.send()}};window.onload=events.getURL,box.forEach(function(e,t,o){e.setAttribute("data-project",t),e.addEventListener("click",function(t){var o=e.pathname.slice(1,-1);t.preventDefault(),events.fetchPost(o)})}),navMenu.addEventListener("mouseover",events.showDropdown),contactBtn.addEventListener("click",events.showContact),contactClose.addEventListener("click",events.closeContact),backArrow.addEventListener("click",events.goBack),galleryBtn.forEach(function(e,t,o){e.addEventListener("click",function(e){document.querySelector(".gallery-item").className="gallery-item is-active"})});